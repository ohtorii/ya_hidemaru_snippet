# ユーザー定義のスニペット作成

- [ユーザー定義のスニペット作成](#ユーザー定義のスニペット作成)
- [はじめに](#はじめに)
- [サンプルコード](#サンプルコード)
- [引数並びの仕様](#引数並びの仕様)
- [スニペットファイルの命名規則](#スニペットファイルの命名規則)
- [モジュールディレクトリ](#モジュールディレクトリ)
- [文字コードについて](#文字コードについて)
- [コメントについて](#コメントについて)

# はじめに

このドキュメントではユーザー定義のスニペットを作成する方法について説明します。

# サンプルコード

スニペット定義は`snippets\functions\text-mode`フォルダ以下にあります。

まずは、以下ファイルをもとに改造するのが分かりやすいと思います。

|ファイル名|説明|
|:---|:---|
|email.txt|定型文を挿入する最も単純なスニペット|
|python-mode\if.txt|引数無しのスニペット|
|python-mode\if.%.txt|引数を一つ受け取るスニペット|
|c-mode\for.%.js|引数を一つ受け取りJavaScriptでスニペットを生成します|
|python-mode\def.%._.py|引数一つと可変個の引数を受け取りPythonでスニペットを生成します|

## 応用

|ファイル名|説明|
|:---|:---|
|c-mode\once.mac|秀丸エディタ固有の情報からスニペットを生成します|
|c).bat|コマンドプロンプト固有の情報からスニペットを生成します|


# 引数並びの仕様

コマンド名 引数1 引数2 ... 引数N

	（例）
	class hoge int x

|||
|:---|:---|
|コマンド|class|
|引数1|hoge|
|引数2|int|
|引数3|x|

# スニペットファイルの命名規則

|記号|意味|補足|
|:---|:---|:---|
|%|固定引数|8個まで指定できます|
|_|可変引数|%の後に一つだけ指定できます|

	【例】
	
	（ファイル名）
	def.%._.py
	
	（意味）
	引数一つと追加の可変引数を受け取る。

## % _ の意味

|記号|意味|
|:--|:--|
|%|バッチファイルの引数 %1 %2 から拝借しました|
|_|C言語の ... を縮めたものと考えて下さい。（...と似た文字を探したらこれしか無くて）|


## 特殊な名前

@から始まるファイル名はシステム系のコマンドを意味します。

|ファイル名|説明|利用例|
|:--|:--|:--|
|@cmd.%._.mac|コマンドプロンプトの実行結果を挿入する|@cmd dir|
|@history._.mac|秀丸エディタのファイル履歴を挿入する|@history|

動的スニペットはスクリプト側(Python/JS/VBS/秀丸マクロ...)で何でも出来てしまうため、ファイル名を見たときにスニペットとそれ以外のコマンドを区別できるようにしています。

# モジュールディレクトリ

`ya_hidemaru_snippet\snippets\modules` スニペットファイルから利用する「外部モジュール・共通の処理ルーチン」などを置くディレクトリです。

使い方は`ya_hidemaru_snippet\snippets\functions\text-mode\markdown-mode\table.%.%.py` を参照して下さい。

# 文字コードについて

## 動的スニペットの場合

スニペットファイルの文字コードは各言語毎(Python/BAT/JJavaScript/秀丸マクロ……)のルールに従って下さい。（ここでは割愛します）

## 静的スニペット(.txt)の場合

テキストファイル(.txt)は「UTF8・UTF8-BOM」のどちらかで保存して下さい。

# コメントについて

## 動的スニペットの場合

スニペットファイル中のコメントは各言語毎(Python/BAT/JJavaScript/秀丸マクロ……)のルールに従って下さい。（ここでは割愛します）

## 静的スニペット(.txt)の場合

行頭から # -- までをコメントとして扱います。

（例）

	#contributor : foo<foo@example.com>
	#name : foo
	# --
	スニペットはこの行から始まります。
